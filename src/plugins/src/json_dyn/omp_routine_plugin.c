/** THIS FILE HAS BEEN AUTOMATICALLY GENERATED BY THE GILDA TOOL.
 * DO NOT MODIFY UNLESS YOU KNOW WHAT YOU ARE DOING.
 * ANY CHANGES MAY BE OVERWRITTEN BY SUBSEQUENT RUNS OF GILDA. 
 */
 
#include <ratelprof.h>
#include <ratelprof_ext.h>
#include "omp_routine_plugin.h"

#include "json_buffer.h"

void on_enter_omp_routine_callback(ratelprof_domain_t domain, ratelprof_api_id_t id, void* user_activity){
    ratelprof_api_activity_t* activity = (ratelprof_api_activity_t*)user_activity;
    get_omp_routine_pointed_args_for(id, &activity->omp_routine_args, 1);
    ratelprof_activity_pool_push_activity(activity);
    get_correlation_id(&activity->corr_id);
    get_id(&activity->id);
    activity->phase = ratelprof_get_current_phase();
    activity->domain = domain;
    activity->funid = id;
    activity->pid = get_pid();
    activity->tid = get_tid();
}

void on_exit_omp_routine_callback(ratelprof_domain_t domain, ratelprof_api_id_t id, void* user_activity){
	(void)domain;
	(void)id;
    ratelprof_api_activity_t* activity = (ratelprof_api_activity_t*)user_activity;
    get_omp_routine_pointed_args_for(id, &activity->omp_routine_args, 0);
    pop_id();
}

void process_omp_routine_args_for(omp_routine_api_id_t funid, const omp_routine_api_args_t* args, void* user_args) 
{
    json_buffer_t* buf = (json_buffer_t*)user_args;
    switch(funid) {
		case OMP_ROUTINE_API_ID_omp_target_memset :
			//	int value (int);
			//	size_t size (unsigned long);
			//	int device_num (int);
			add_to_json_buffer(buf, "\"ptr\":{\"type\":\"void *\",\"value\":\"%p\"},", args->omp_target_memset.ptr);
			add_to_json_buffer(buf, "\"value\":{\"type\":\"int\",\"value\":\"%d\"},", args->omp_target_memset.value);
			add_to_json_buffer(buf, "\"size\":{\"type\":\"size_t\",\"value\":\"%lu\"},", args->omp_target_memset.size);
			add_to_json_buffer(buf, "\"device_num\":{\"type\":\"int\",\"value\":\"%d\"},", args->omp_target_memset.device_num);
			add_to_json_buffer(buf, "\"retval\":{\"type\":\"void *\",\"value\":\"%p\"}", args->omp_target_memset.retval);
			break;

		case OMP_ROUTINE_API_ID_omp_target_memcpy_async :
			//	size_t size (unsigned long);
			//	size_t dst_offset (unsigned long);
			//	size_t src_offset (unsigned long);
			//	int dst_device_num (int);
			//	int src_device_num (int);
			//	int async_depend_info (int);
			//	omp_depend_t * depend (void**);
			//	int retval (int);
			add_to_json_buffer(buf, "\"dst\":{\"type\":\"void *\",\"value\":\"%p\"},", args->omp_target_memcpy_async.dst);
			add_to_json_buffer(buf, "\"src\":{\"type\":\"const void *\",\"value\":\"%p\"},", args->omp_target_memcpy_async.src);
			add_to_json_buffer(buf, "\"size\":{\"type\":\"size_t\",\"value\":\"%lu\"},", args->omp_target_memcpy_async.size);
			add_to_json_buffer(buf, "\"dst_offset\":{\"type\":\"size_t\",\"value\":\"%lu\"},", args->omp_target_memcpy_async.dst_offset);
			add_to_json_buffer(buf, "\"src_offset\":{\"type\":\"size_t\",\"value\":\"%lu\"},", args->omp_target_memcpy_async.src_offset);
			add_to_json_buffer(buf, "\"dst_device_num\":{\"type\":\"int\",\"value\":\"%d\"},", args->omp_target_memcpy_async.dst_device_num);
			add_to_json_buffer(buf, "\"src_device_num\":{\"type\":\"int\",\"value\":\"%d\"},", args->omp_target_memcpy_async.src_device_num);
			add_to_json_buffer(buf, "\"async_depend_info\":{\"type\":\"int\",\"value\":\"%d\"},", args->omp_target_memcpy_async.async_depend_info);
			add_to_json_buffer(buf, "\"depend\":{\"type\":\"omp_depend_t *\",\"value\":{\"addr\":\"%p\"", args->omp_target_memcpy_async.depend);
			if (args->omp_target_memcpy_async.depend != NULL) {
				add_to_json_buffer(buf, ",\"->*\":\"%p\"", args->omp_target_memcpy_async.depend__ref.ptr1);
			}
			add_to_json_buffer(buf, "}},");
			add_to_json_buffer(buf, "\"retval\":{\"type\":\"int\",\"value\":\"%d\"}", args->omp_target_memcpy_async.retval);
			break;

		case OMP_ROUTINE_API_ID_omp_target_memcpy_rect_async :
			//	size_t element_size (unsigned long);
			//	int num_dims (int);
			//	const size_t * volume (unsigned long*);
			//	const size_t * dst_offsets (unsigned long*);
			//	const size_t * src_offsets (unsigned long*);
			//	const size_t * dst_dimensions (unsigned long*);
			//	const size_t * src_dimensions (unsigned long*);
			//	int dst_device_num (int);
			//	int src_device_num (int);
			//	int depobj_count (int);
			//	omp_depend_t * depobj_list (void**);
			//	int retval (int);
			add_to_json_buffer(buf, "\"dst\":{\"type\":\"void *\",\"value\":\"%p\"},", args->omp_target_memcpy_rect_async.dst);
			add_to_json_buffer(buf, "\"src\":{\"type\":\"const void *\",\"value\":\"%p\"},", args->omp_target_memcpy_rect_async.src);
			add_to_json_buffer(buf, "\"element_size\":{\"type\":\"size_t\",\"value\":\"%lu\"},", args->omp_target_memcpy_rect_async.element_size);
			add_to_json_buffer(buf, "\"num_dims\":{\"type\":\"int\",\"value\":\"%d\"},", args->omp_target_memcpy_rect_async.num_dims);
			add_to_json_buffer(buf, "\"volume\":{\"type\":\"const size_t *\",\"value\":{\"addr\":\"%p\"", args->omp_target_memcpy_rect_async.volume);
			if (args->omp_target_memcpy_rect_async.volume != NULL) {
				add_to_json_buffer(buf, ",\"->*\":\"%lu\"", args->omp_target_memcpy_rect_async.volume__ref.val);
			}
			add_to_json_buffer(buf, "}},");
			add_to_json_buffer(buf, "\"dst_offsets\":{\"type\":\"const size_t *\",\"value\":{\"addr\":\"%p\"", args->omp_target_memcpy_rect_async.dst_offsets);
			if (args->omp_target_memcpy_rect_async.dst_offsets != NULL) {
				add_to_json_buffer(buf, ",\"->*\":\"%lu\"", args->omp_target_memcpy_rect_async.dst_offsets__ref.val);
			}
			add_to_json_buffer(buf, "}},");
			add_to_json_buffer(buf, "\"src_offsets\":{\"type\":\"const size_t *\",\"value\":{\"addr\":\"%p\"", args->omp_target_memcpy_rect_async.src_offsets);
			if (args->omp_target_memcpy_rect_async.src_offsets != NULL) {
				add_to_json_buffer(buf, ",\"->*\":\"%lu\"", args->omp_target_memcpy_rect_async.src_offsets__ref.val);
			}
			add_to_json_buffer(buf, "}},");
			add_to_json_buffer(buf, "\"dst_dimensions\":{\"type\":\"const size_t *\",\"value\":{\"addr\":\"%p\"", args->omp_target_memcpy_rect_async.dst_dimensions);
			if (args->omp_target_memcpy_rect_async.dst_dimensions != NULL) {
				add_to_json_buffer(buf, ",\"->*\":\"%lu\"", args->omp_target_memcpy_rect_async.dst_dimensions__ref.val);
			}
			add_to_json_buffer(buf, "}},");
			add_to_json_buffer(buf, "\"src_dimensions\":{\"type\":\"const size_t *\",\"value\":{\"addr\":\"%p\"", args->omp_target_memcpy_rect_async.src_dimensions);
			if (args->omp_target_memcpy_rect_async.src_dimensions != NULL) {
				add_to_json_buffer(buf, ",\"->*\":\"%lu\"", args->omp_target_memcpy_rect_async.src_dimensions__ref.val);
			}
			add_to_json_buffer(buf, "}},");
			add_to_json_buffer(buf, "\"dst_device_num\":{\"type\":\"int\",\"value\":\"%d\"},", args->omp_target_memcpy_rect_async.dst_device_num);
			add_to_json_buffer(buf, "\"src_device_num\":{\"type\":\"int\",\"value\":\"%d\"},", args->omp_target_memcpy_rect_async.src_device_num);
			add_to_json_buffer(buf, "\"depobj_count\":{\"type\":\"int\",\"value\":\"%d\"},", args->omp_target_memcpy_rect_async.depobj_count);
			add_to_json_buffer(buf, "\"depobj_list\":{\"type\":\"omp_depend_t *\",\"value\":{\"addr\":\"%p\"", args->omp_target_memcpy_rect_async.depobj_list);
			if (args->omp_target_memcpy_rect_async.depobj_list != NULL) {
				add_to_json_buffer(buf, ",\"->*\":\"%p\"", args->omp_target_memcpy_rect_async.depobj_list__ref.ptr1);
			}
			add_to_json_buffer(buf, "}},");
			add_to_json_buffer(buf, "\"retval\":{\"type\":\"int\",\"value\":\"%d\"}", args->omp_target_memcpy_rect_async.retval);
			break;

		case OMP_ROUTINE_API_ID_omp_target_alloc :
			//	size_t size (unsigned long);
			//	int device_num (int);
			add_to_json_buffer(buf, "\"size\":{\"type\":\"size_t\",\"value\":\"%lu\"},", args->omp_target_alloc.size);
			add_to_json_buffer(buf, "\"device_num\":{\"type\":\"int\",\"value\":\"%d\"},", args->omp_target_alloc.device_num);
			add_to_json_buffer(buf, "\"retval\":{\"type\":\"void *\",\"value\":\"%p\"}", args->omp_target_alloc.retval);
			break;

		case OMP_ROUTINE_API_ID_omp_target_free :
			//	int device_num (int);
			add_to_json_buffer(buf, "\"device_ptr\":{\"type\":\"void *\",\"value\":\"%p\"},", args->omp_target_free.device_ptr);
			add_to_json_buffer(buf, "\"device_num\":{\"type\":\"int\",\"value\":\"%d\"}", args->omp_target_free.device_num);
			break;

		case OMP_ROUTINE_API_ID_omp_target_memcpy_rect :
			//	size_t element_size (unsigned long);
			//	int num_dims (int);
			//	const size_t * volume (unsigned long*);
			//	const size_t * dst_offsets (unsigned long*);
			//	const size_t * src_offsets (unsigned long*);
			//	const size_t * dst_dimensions (unsigned long*);
			//	const size_t * src_dimensions (unsigned long*);
			//	int dst_device_num (int);
			//	int src_device_num (int);
			//	int retval (int);
			add_to_json_buffer(buf, "\"dst\":{\"type\":\"void *\",\"value\":\"%p\"},", args->omp_target_memcpy_rect.dst);
			add_to_json_buffer(buf, "\"src\":{\"type\":\"const void *\",\"value\":\"%p\"},", args->omp_target_memcpy_rect.src);
			add_to_json_buffer(buf, "\"element_size\":{\"type\":\"size_t\",\"value\":\"%lu\"},", args->omp_target_memcpy_rect.element_size);
			add_to_json_buffer(buf, "\"num_dims\":{\"type\":\"int\",\"value\":\"%d\"},", args->omp_target_memcpy_rect.num_dims);
			add_to_json_buffer(buf, "\"volume\":{\"type\":\"const size_t *\",\"value\":{\"addr\":\"%p\"", args->omp_target_memcpy_rect.volume);
			if (args->omp_target_memcpy_rect.volume != NULL) {
				add_to_json_buffer(buf, ",\"->*\":\"%lu\"", args->omp_target_memcpy_rect.volume__ref.val);
			}
			add_to_json_buffer(buf, "}},");
			add_to_json_buffer(buf, "\"dst_offsets\":{\"type\":\"const size_t *\",\"value\":{\"addr\":\"%p\"", args->omp_target_memcpy_rect.dst_offsets);
			if (args->omp_target_memcpy_rect.dst_offsets != NULL) {
				add_to_json_buffer(buf, ",\"->*\":\"%lu\"", args->omp_target_memcpy_rect.dst_offsets__ref.val);
			}
			add_to_json_buffer(buf, "}},");
			add_to_json_buffer(buf, "\"src_offsets\":{\"type\":\"const size_t *\",\"value\":{\"addr\":\"%p\"", args->omp_target_memcpy_rect.src_offsets);
			if (args->omp_target_memcpy_rect.src_offsets != NULL) {
				add_to_json_buffer(buf, ",\"->*\":\"%lu\"", args->omp_target_memcpy_rect.src_offsets__ref.val);
			}
			add_to_json_buffer(buf, "}},");
			add_to_json_buffer(buf, "\"dst_dimensions\":{\"type\":\"const size_t *\",\"value\":{\"addr\":\"%p\"", args->omp_target_memcpy_rect.dst_dimensions);
			if (args->omp_target_memcpy_rect.dst_dimensions != NULL) {
				add_to_json_buffer(buf, ",\"->*\":\"%lu\"", args->omp_target_memcpy_rect.dst_dimensions__ref.val);
			}
			add_to_json_buffer(buf, "}},");
			add_to_json_buffer(buf, "\"src_dimensions\":{\"type\":\"const size_t *\",\"value\":{\"addr\":\"%p\"", args->omp_target_memcpy_rect.src_dimensions);
			if (args->omp_target_memcpy_rect.src_dimensions != NULL) {
				add_to_json_buffer(buf, ",\"->*\":\"%lu\"", args->omp_target_memcpy_rect.src_dimensions__ref.val);
			}
			add_to_json_buffer(buf, "}},");
			add_to_json_buffer(buf, "\"dst_device_num\":{\"type\":\"int\",\"value\":\"%d\"},", args->omp_target_memcpy_rect.dst_device_num);
			add_to_json_buffer(buf, "\"src_device_num\":{\"type\":\"int\",\"value\":\"%d\"},", args->omp_target_memcpy_rect.src_device_num);
			add_to_json_buffer(buf, "\"retval\":{\"type\":\"int\",\"value\":\"%d\"}", args->omp_target_memcpy_rect.retval);
			break;

		case OMP_ROUTINE_API_ID_omp_target_disassociate_ptr :
			//	int device_num (int);
			//	int retval (int);
			add_to_json_buffer(buf, "\"host_ptr\":{\"type\":\"const void *\",\"value\":\"%p\"},", args->omp_target_disassociate_ptr.host_ptr);
			add_to_json_buffer(buf, "\"device_num\":{\"type\":\"int\",\"value\":\"%d\"},", args->omp_target_disassociate_ptr.device_num);
			add_to_json_buffer(buf, "\"retval\":{\"type\":\"int\",\"value\":\"%d\"}", args->omp_target_disassociate_ptr.retval);
			break;

		case OMP_ROUTINE_API_ID_omp_target_memcpy :
			//	size_t size (unsigned long);
			//	size_t dst_offset (unsigned long);
			//	size_t src_offset (unsigned long);
			//	int dst_device_num (int);
			//	int src_device_num (int);
			//	int retval (int);
			add_to_json_buffer(buf, "\"dst\":{\"type\":\"void *\",\"value\":\"%p\"},", args->omp_target_memcpy.dst);
			add_to_json_buffer(buf, "\"src\":{\"type\":\"const void *\",\"value\":\"%p\"},", args->omp_target_memcpy.src);
			add_to_json_buffer(buf, "\"size\":{\"type\":\"size_t\",\"value\":\"%lu\"},", args->omp_target_memcpy.size);
			add_to_json_buffer(buf, "\"dst_offset\":{\"type\":\"size_t\",\"value\":\"%lu\"},", args->omp_target_memcpy.dst_offset);
			add_to_json_buffer(buf, "\"src_offset\":{\"type\":\"size_t\",\"value\":\"%lu\"},", args->omp_target_memcpy.src_offset);
			add_to_json_buffer(buf, "\"dst_device_num\":{\"type\":\"int\",\"value\":\"%d\"},", args->omp_target_memcpy.dst_device_num);
			add_to_json_buffer(buf, "\"src_device_num\":{\"type\":\"int\",\"value\":\"%d\"},", args->omp_target_memcpy.src_device_num);
			add_to_json_buffer(buf, "\"retval\":{\"type\":\"int\",\"value\":\"%d\"}", args->omp_target_memcpy.retval);
			break;

		case OMP_ROUTINE_API_ID_omp_target_memset_async :
			//	int value (int);
			//	size_t size (unsigned long);
			//	int device_num (int);
			//	int async_depend_info (int);
			//	omp_depend_t * depend (void**);
			add_to_json_buffer(buf, "\"ptr\":{\"type\":\"void *\",\"value\":\"%p\"},", args->omp_target_memset_async.ptr);
			add_to_json_buffer(buf, "\"value\":{\"type\":\"int\",\"value\":\"%d\"},", args->omp_target_memset_async.value);
			add_to_json_buffer(buf, "\"size\":{\"type\":\"size_t\",\"value\":\"%lu\"},", args->omp_target_memset_async.size);
			add_to_json_buffer(buf, "\"device_num\":{\"type\":\"int\",\"value\":\"%d\"},", args->omp_target_memset_async.device_num);
			add_to_json_buffer(buf, "\"async_depend_info\":{\"type\":\"int\",\"value\":\"%d\"},", args->omp_target_memset_async.async_depend_info);
			add_to_json_buffer(buf, "\"depend\":{\"type\":\"omp_depend_t *\",\"value\":{\"addr\":\"%p\"", args->omp_target_memset_async.depend);
			if (args->omp_target_memset_async.depend != NULL) {
				add_to_json_buffer(buf, ",\"->*\":\"%p\"", args->omp_target_memset_async.depend__ref.ptr1);
			}
			add_to_json_buffer(buf, "}},");
			add_to_json_buffer(buf, "\"retval\":{\"type\":\"void *\",\"value\":\"%p\"}", args->omp_target_memset_async.retval);
			break;

		case OMP_ROUTINE_API_ID_omp_target_is_present :
			//	int device_num (int);
			//	int retval (int);
			add_to_json_buffer(buf, "\"host_ptr\":{\"type\":\"const void *\",\"value\":\"%p\"},", args->omp_target_is_present.host_ptr);
			add_to_json_buffer(buf, "\"device_num\":{\"type\":\"int\",\"value\":\"%d\"},", args->omp_target_is_present.device_num);
			add_to_json_buffer(buf, "\"retval\":{\"type\":\"int\",\"value\":\"%d\"}", args->omp_target_is_present.retval);
			break;

		case OMP_ROUTINE_API_ID_omp_target_associate_ptr :
			//	size_t size (unsigned long);
			//	size_t alignment (unsigned long);
			//	int device_num (int);
			//	int retval (int);
			add_to_json_buffer(buf, "\"host_ptr\":{\"type\":\"const void *\",\"value\":\"%p\"},", args->omp_target_associate_ptr.host_ptr);
			add_to_json_buffer(buf, "\"device_ptr\":{\"type\":\"const void *\",\"value\":\"%p\"},", args->omp_target_associate_ptr.device_ptr);
			add_to_json_buffer(buf, "\"size\":{\"type\":\"size_t\",\"value\":\"%lu\"},", args->omp_target_associate_ptr.size);
			add_to_json_buffer(buf, "\"alignment\":{\"type\":\"size_t\",\"value\":\"%lu\"},", args->omp_target_associate_ptr.alignment);
			add_to_json_buffer(buf, "\"device_num\":{\"type\":\"int\",\"value\":\"%d\"},", args->omp_target_associate_ptr.device_num);
			add_to_json_buffer(buf, "\"retval\":{\"type\":\"int\",\"value\":\"%d\"}", args->omp_target_associate_ptr.retval);
			break;

		case OMP_ROUTINE_API_ID_omp_get_initial_device :
			//	int retval (int);
			add_to_json_buffer(buf, "\"retval\":{\"type\":\"int\",\"value\":\"%d\"}", args->omp_get_initial_device.retval);
			break;

		case OMP_ROUTINE_API_ID_llvm_omp_target_dynamic_shared_alloc :

			add_to_json_buffer(buf, "\"retval\":{\"type\":\"void *\",\"value\":\"%p\"}", args->llvm_omp_target_dynamic_shared_alloc.retval);
			break;

		case OMP_ROUTINE_API_ID_omp_get_interop_int :
			//	omp_interop_property_t prop (enum);
			//	int * exists (int*);
			//	omp_intptr_t retval (long);
			add_to_json_buffer(buf, "\"interop\":{\"type\":\"const omp_interop_t\",\"value\":\"%p\"},", args->omp_get_interop_int.interop);
			add_to_json_buffer(buf, "\"prop\":{\"type\":\"omp_interop_property_t\",\"value\":\"%d\"},", args->omp_get_interop_int.prop);
			add_to_json_buffer(buf, "\"exists\":{\"type\":\"int *\",\"value\":{\"addr\":\"%p\"", args->omp_get_interop_int.exists);
			if (args->omp_get_interop_int.exists != NULL) {
				add_to_json_buffer(buf, ",\"->*\":\"%d\"", args->omp_get_interop_int.exists__ref.val);
			}
			add_to_json_buffer(buf, "}},");
			add_to_json_buffer(buf, "\"retval\":{\"type\":\"omp_intptr_t\",\"value\":\"%ld\"}", args->omp_get_interop_int.retval);
			break;

		case OMP_ROUTINE_API_ID_omp_get_interop_name :
			//	omp_interop_property_t prop (enum);
			//	const char * retval (string*);
			add_to_json_buffer(buf, "\"interop\":{\"type\":\"const omp_interop_t\",\"value\":\"%p\"},", args->omp_get_interop_name.interop);
			add_to_json_buffer(buf, "\"prop\":{\"type\":\"omp_interop_property_t\",\"value\":\"%d\"},", args->omp_get_interop_name.prop);
			add_to_json_buffer(buf, "\"retval\":{\"type\":\"const char *\",\"value\":{\"addr\":\"%p\"", args->omp_get_interop_name.retval);
			if (args->omp_get_interop_name.retval != NULL) {
				add_to_json_buffer(buf, ",\"->*\":\"%s\"", args->omp_get_interop_name.retval__ref.val);
			}
			add_to_json_buffer(buf, "}}");
			break;

		case OMP_ROUTINE_API_ID_omp_get_interop_ptr :
			//	omp_interop_property_t prop (enum);
			//	int * exists (int*);
			add_to_json_buffer(buf, "\"interop\":{\"type\":\"const omp_interop_t\",\"value\":\"%p\"},", args->omp_get_interop_ptr.interop);
			add_to_json_buffer(buf, "\"prop\":{\"type\":\"omp_interop_property_t\",\"value\":\"%d\"},", args->omp_get_interop_ptr.prop);
			add_to_json_buffer(buf, "\"exists\":{\"type\":\"int *\",\"value\":{\"addr\":\"%p\"", args->omp_get_interop_ptr.exists);
			if (args->omp_get_interop_ptr.exists != NULL) {
				add_to_json_buffer(buf, ",\"->*\":\"%d\"", args->omp_get_interop_ptr.exists__ref.val);
			}
			add_to_json_buffer(buf, "}},");
			add_to_json_buffer(buf, "\"retval\":{\"type\":\"void *\",\"value\":\"%p\"}", args->omp_get_interop_ptr.retval);
			break;

		case OMP_ROUTINE_API_ID_omp_get_interop_str :
			//	omp_interop_property_t prop (enum);
			//	int * exists (int*);
			//	const char * retval (string*);
			add_to_json_buffer(buf, "\"interop\":{\"type\":\"const omp_interop_t\",\"value\":\"%p\"},", args->omp_get_interop_str.interop);
			add_to_json_buffer(buf, "\"prop\":{\"type\":\"omp_interop_property_t\",\"value\":\"%d\"},", args->omp_get_interop_str.prop);
			add_to_json_buffer(buf, "\"exists\":{\"type\":\"int *\",\"value\":{\"addr\":\"%p\"", args->omp_get_interop_str.exists);
			if (args->omp_get_interop_str.exists != NULL) {
				add_to_json_buffer(buf, ",\"->*\":\"%d\"", args->omp_get_interop_str.exists__ref.val);
			}
			add_to_json_buffer(buf, "}},");
			add_to_json_buffer(buf, "\"retval\":{\"type\":\"const char *\",\"value\":{\"addr\":\"%p\"", args->omp_get_interop_str.retval);
			if (args->omp_get_interop_str.retval != NULL) {
				add_to_json_buffer(buf, ",\"->*\":\"%s\"", args->omp_get_interop_str.retval__ref.val);
			}
			add_to_json_buffer(buf, "}}");
			break;

		case OMP_ROUTINE_API_ID_omp_get_interop_type_desc :
			//	omp_interop_property_t prop (enum);
			//	const char * retval (string*);
			add_to_json_buffer(buf, "\"interop\":{\"type\":\"const omp_interop_t\",\"value\":\"%p\"},", args->omp_get_interop_type_desc.interop);
			add_to_json_buffer(buf, "\"prop\":{\"type\":\"omp_interop_property_t\",\"value\":\"%d\"},", args->omp_get_interop_type_desc.prop);
			add_to_json_buffer(buf, "\"retval\":{\"type\":\"const char *\",\"value\":{\"addr\":\"%p\"", args->omp_get_interop_type_desc.retval);
			if (args->omp_get_interop_type_desc.retval != NULL) {
				add_to_json_buffer(buf, ",\"->*\":\"%s\"", args->omp_get_interop_type_desc.retval__ref.val);
			}
			add_to_json_buffer(buf, "}}");
			break;

		case OMP_ROUTINE_API_ID_omp_get_mapped_ptr :
			//	int device_num (int);
			add_to_json_buffer(buf, "\"ptr\":{\"type\":\"const void *\",\"value\":\"%p\"},", args->omp_get_mapped_ptr.ptr);
			add_to_json_buffer(buf, "\"device_num\":{\"type\":\"int\",\"value\":\"%d\"},", args->omp_get_mapped_ptr.device_num);
			add_to_json_buffer(buf, "\"retval\":{\"type\":\"void *\",\"value\":\"%p\"}", args->omp_get_mapped_ptr.retval);
			break;

		case OMP_ROUTINE_API_ID_omp_get_num_devices :
			//	int retval (int);
			add_to_json_buffer(buf, "\"retval\":{\"type\":\"int\",\"value\":\"%d\"}", args->omp_get_num_devices.retval);
			break;

		case OMP_ROUTINE_API_ID_omp_is_coarse_grain_mem_region :
			//	size_t size (unsigned long);
			//	int retval (int);
			add_to_json_buffer(buf, "\"ptr\":{\"type\":\"void *\",\"value\":\"%p\"},", args->omp_is_coarse_grain_mem_region.ptr);
			add_to_json_buffer(buf, "\"size\":{\"type\":\"size_t\",\"value\":\"%lu\"},", args->omp_is_coarse_grain_mem_region.size);
			add_to_json_buffer(buf, "\"retval\":{\"type\":\"int\",\"value\":\"%d\"}", args->omp_is_coarse_grain_mem_region.retval);
			break;
 
        default : break;
    }
}

